# ================================================================================
# CHAPTER 13: Production Authentication - Environment Variables
# ================================================================================
# Copy this file to .env and fill in your values.
# NEVER commit .env to version control!
# ================================================================================

# ================================================================================
# APPLICATION
# ================================================================================
FLASK_ENV=development
SECRET_KEY=your-secret-key-generate-a-random-one
FLASK_SECRET_KEY=another-secret-for-sessions
JWT_SECRET_KEY=jwt-specific-secret-optional

# Base URL (used for email links, OAuth callbacks)
BASE_URL=http://localhost:5013
FRONTEND_URL=http://localhost:5013

# ================================================================================
# DATABASE
# ================================================================================
# SQLite (default - good for development)
DATABASE_URL=sqlite:///users_production.db

# PostgreSQL (recommended for production)
# DATABASE_URL=postgresql://user:password@localhost:5432/authdb

# ================================================================================
# GOOGLE OAUTH
# ================================================================================
# Get from https://console.cloud.google.com/
# 1. Create project
# 2. APIs & Services > Credentials > Create OAuth Client ID
# 3. Add redirect URI: http://localhost:5013/api/auth/google/callback
GOOGLE_CLIENT_ID=your-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-client-secret

# ================================================================================
# MAILGUN (Email)
# ================================================================================
# Get from https://www.mailgun.com/
# Free tier: 5,000 emails/month
MAILGUN_API_KEY=key-your-api-key
MAILGUN_DOMAIN=sandbox123.mailgun.org
MAILGUN_FROM_EMAIL=MyApp <noreply@sandbox123.mailgun.org>

# ================================================================================
# RATE LIMITING (flask-limiter)
# ================================================================================
# Default uses memory storage (lost on restart)
# For production, use Redis:
# REDIS_URL=redis://localhost:6379/0
RATELIMIT_STORAGE_URL=memory://

# ================================================================================
# SECURITY SETTINGS
# ================================================================================
PASSWORD_MIN_LENGTH=8
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION_MINUTES=15
VERIFICATION_TOKEN_EXPIRES_HOURS=24
RESET_TOKEN_EXPIRES_HOURS=1

# ================================================================================
# PRODUCTION NOTES
# ================================================================================
#
# Before deploying to production:
#
# 1. Generate secure secrets:
#    python -c "import secrets; print(secrets.token_hex(32))"
#
# 2. Use PostgreSQL instead of SQLite
#
# 3. Set up Redis for rate limiting
#
# 4. Use HTTPS (required for Google OAuth in production)
#
# 5. Set FLASK_ENV=production
#
# 6. Update BASE_URL to your production domain
#
# 7. Configure your domain in Google Cloud Console
#
# 8. Verify your Mailgun domain (removes sandbox restrictions)
#
# ================================================================================
